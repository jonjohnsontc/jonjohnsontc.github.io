{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/blog/twil-20210821/",
    "result": {"data":{"mdx":{"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"slug\": \"/blog/twil-20210821/\",\n  \"date\": \"2021-08-21\",\n  \"title\": \"This Week I Learned - I\",\n  \"format\": \"reg\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Too small to be updates in their own right, but I gotta tell somebody! Here's what I learned this past week, ending on 8/21/21.\"), mdx(\"br\", null), mdx(Header, {\n    title: \"Profiling Python Applications on a Server\",\n    mdxType: \"Header\"\n  }), mdx(\"p\", null, \"In trying to diagnose bottlenecks in a slow running application at work, I learned about different profiling options within Python. For Flask applications, Werkzeug \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://werkzeug.palletsprojects.com/en/2.0.x/middleware/profiler/\"\n  }, \"provides\"), \" a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ProfilerMiddleware\"), \"that makes it simple to see which processes are taking the most time. However, because it uses \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.python.org/3/library/profile.html#module-cProfile\"\n  }, \"cProfile\"), \" to do the profiling, it doesn't give you any introspection into multithreaded applications in the non-main thread.\"), mdx(\"br\", null), mdx(\"p\", null, \"Enabling it is pretty simple. All you need to do is wrap your Flask wsgi instance in the middleware, and any calls you make to the API are automatically returned with a printout of the timing of function calls customized to your liking via the standard library's \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pstats.Stats\"), \" interpretation of \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.python.org/3/library/profile.html#pstats.Stats.print_stats\"\n  }, \"restrictions\"), \".\"), mdx(\"br\", null), mdx(\"strong\", null, \"e.g.,\"), mdx(\"br\", null), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"from flask import Flask\\n\\napp = Flask(__name__)\\n...\\napp.wsgi_app = ProfilerMiddleware(app.wsgi_app, restrictions=[0.05])\\n\")), mdx(\"br\", null), mdx(\"p\", null, \"Here's where \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://pypi.org/project/yappi/\"\n  }, \"yappi\"), \" comes in. It's a library that allows you to profile any multithreaded applications at run simply by running \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yappi.start()\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yappi.stop()\"), \" to indicate when the profiler should in fact, be running. The best thing is, yappi provides a method to convert its statistical output in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pstats.Stats()\"), \" format, the same used by cProfile.\"), mdx(\"br\", null), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"from flask import current_app, request\\nfrom flask_restx import Namespace, Resource\\nimport yappi\\n\\nns = Namepace(\\\"sprocket-rocket\\\", description=\\\"delivering sprockets to kewl users\\\")\\n\\n...\\n@ns.route(\\\"/profile\\\", methods=[\\\"POST\\\"])\\nclass SprocketProfile(Resource):\\n    def post(self) -> dict:\\n        data = request.get_json()\\n        yappi.start()\\n        result = process_sprockets(data)\\n        yappi.stop()\\n        response = current_app.response_class(\\n            response=json.dumps({\\\"result\\\": \\\"upload successful\\\"}),\\n            status=200,\\n            mimetype=\\\"application/json\\\"\\n        )\\n        return response\\n\")), mdx(\"br\", null), mdx(\"p\", null, \"I chose to hack together an endpoint, and start/stop yappi around the process which I wanted to profile.\"), mdx(\"br\", null), mdx(Header, {\n    title: \"Putting Together a Markdown-based Blog with Gatsby\",\n    mdxType: \"Header\"\n  }), mdx(\"p\", null, \"Due to creative frustrations, my curiosity pulling me in a thousand directions, and just a lack of vision, I've been putting off the creation of my own website for some time. However, finally deploying my Songwriter Graph \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.songwritergraph.org\"\n  }, \"website\"), \" I think gave me the encouragement that I needed to get started.\"), mdx(\"br\", null), mdx(\"p\", null, \"I hadn't ever built anything in javascript outside of a couple of automated\\nfrontend testing scripts (the songwriter graph is written in clojurescript, as is\\nthe UI I contribute to at work), so I wanted my personal site to be a \\\"gentle\\\" introduction\\nto the language. After a heated \\\"eeny meeny...\\\" session between a few frontend frameworks\\nthat specialize in Server Side Rendering (SSR), I decided to roll with making my\\nsite in Gatsby (v3 in particular).\"), mdx(\"br\", null), mdx(\"p\", null, \"The idea of having a personal website / blog, which has pages are written in\\nMarkdown has appealed to me since I'd heard of it a few years back. It's\\nsurprising just how quickly I was able to get started crafting my own with the\\ncombination of \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://pages.github.com/\"\n  }, \"GitHub Pages\"), \" and a couple of Gatsby\\n\\\"plugins\\\", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-transformer-remark\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-source-filesystem\"), \".\"), mdx(\"br\", null), mdx(\"p\", null, \"Within a few hours, I had built a few React components strewn across some Gatsby\\npages. One component in particular, named \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"blogTemplate\"), \" gave me all I needed to\\nstart rendering Markdown pages as blog posts:\"), mdx(\"br\", null), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-jsx\"\n  }, \"export default function Template({ data }) {\\n  const { markdownRemark } = data;\\n  const { frontmatter, html } = markdownRemark;\\n\\n  return (\\n    <div className={\\\"blog-post-container container\\\"}>\\n      <div className={\\\"blog-post hero is-medium has-background-grey-darker\\\"}>\\n        {/* We render a blank hero-body, and hero-foot with text to \\n        give the title at bottom look */}\\n        <div className={\\\"hero-body\\\"}></div>\\n        <div className={\\\"hero-foot\\\"}>\\n          <p\\n            className={\\\"title is-size-1 is-inline has-text-white is-family-sans-serif\\\"}\\n          >\\n            {frontmatter.title}\\n          </p>\\n          <p className={\\\"pl-6 subtitle is-inline has-text-white\\\"}>\\n            {frontmatter.date}\\n          </p>\\n        </div>\\n      </div>\\n\\n      <div\\n        className={\\\"blog-post-content mt-6\\\"}\\n        dangerouslySetInnerHTML={{ __html: html }}\\n      />\\n      <footer\\n        className=\\\"footer\\\"\\n        children={\\n          <span className=\\\"has-text-centered\\\">\\n            ~ Thanks for reading! If you enjoyed it, consider sharing it with\\n            someone u like \\uD83D\\uDC9C ~\\n          </span>\\n        }\\n      />\\n    </div>\\n  );\\n}\\n\")), mdx(\"br\", null), mdx(\"p\", null, \"Here, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Template\"), \" is a template for an individual post. Coupled with a page to\\nlist all of the blog entries, I've got a solution for my website's blog that I\\ncan continue to improve upon with time.\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"date":"August 21, 2021","slug":"/blog/twil-20210821/","title":"This Week I Learned - I"}}},"pageContext":{"slug":"/blog/twil-20210821/","id":"71db8f94-564a-5064-963f-6459f8682171"}},
    "staticQueryHashes": ["3361508366"]}